<app-header [title] = "headerTitle" [image] = "playerPhoto"></app-header>
<div class="goback-button" routerLink= "..">
    <i class="fa fa-arrow-left" aria-hidden="true"></i>
</div>
<div class="home-button" routerLink= "/">
    <i class="fa fa-home" aria-hidden="true"></i>
</div>
<div class="img-edit-block" *ngIf = "player && quizVisible">
  <app-associate-quiz-modal [quizzes] = "quizzes" [player] = "player"></app-associate-quiz-modal>
  <br> 
  <button class="edit-button" (click)="modalService.open(playerFormModal)">Modifier l'accueilli</button>
</div>

<div class="main" *ngIf  = "player">
  <div class = "new-button" routerLink= "./statistics">Voir les r√©sultats</div>
  <h2>Liste des quiz visibles par {{player.name}} : </h2>
  <div *ngIf = "quizVisible" class="quiz-list">
    <div class="fixed-container-bigger" *ngFor = "let quiz of quizVisible">
      <div class = "tag" *ngIf = "!globalService.isValid(quiz)">
          INCOMPLET
      </div>
      <button class="delete-button" (click)="removeVisibility(quiz)">
          <i class="fas fa-times"></i>
      </button>
      <div class="quiz-card"  routerLink= "../../quiz-list/{{quiz.id}}">
        <app-quiz  [quiz]="quiz"></app-quiz>
    </div>
    </div>    
  </div>
</div>

<ng-template #playerFormModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Modifier les informations de l'accueilli :</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
      <app-player-form-modal [player] = "player" [playerImage] = "playerPhoto" (quitForm) = "modal.close()"></app-player-form-modal>
  </div>
</ng-template>
