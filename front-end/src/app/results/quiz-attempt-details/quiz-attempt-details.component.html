<body>
<app-header type="basic" [isHomeBrand]="false" [title]="headerTitle"></app-header>
<div *ngIf="loaded()" >
    <div class="quiz-title">
        <div *ngIf="attempt.quiz.image">
            <h3>{{player.name}} : {{attempt.quiz.name}} 
            <img class="thumbnail-header" [src]="globalService.getImgSrc1(attempt.quiz.image)" alt="image">
            ({{attempt.date | date : 'dd/MM/yyyy'}})</h3>
        </div>
        <div *ngIf="!attempt.quiz.image">
            <h3>{{player.name}} : {{attempt.quiz.name}} ({{attempt.date | date : 'dd/MM/yyyy'}})</h3>
        </div>
        <div class = "resultats" *ngIf = "!attempt.wrongAnswers || attempt.wrongAnswers.length===0">
            <h2>Sans faute</h2>
        </div>
        <div class = "resultats" *ngIf="attempt.wrongAnswers.length===1">{{attempt.wrongAnswers.length}} faute </div>
        <div class = "resultats" *ngIf="attempt.wrongAnswers.length>1">{{attempt.wrongAnswers.length}} fautes </div>
        <div class="resultats" *ngIf="attempt.timeOuts===1">{{attempt.timeOuts}} perte d'attention</div>
        <div class="resultats" *ngIf="attempt.timeOuts>1">{{attempt.timeOuts}} pertes d'attention</div>
    </div>
    <div class="quiz-list"> 
        <div *ngFor="let question of attempt.quiz.questions"> 
<!--TODO finish clickable or not-->
            <div *ngIf="true; else notClickable">
            <div class="quiz-card" *ngIf = "checkIfWrongQuestion(question)" (click)=seeQuestion(question.id)>
                A la question :<br><br>
                <div *ngIf="question.label">{{question.label}}</div>
                <div *ngIf="question.imageId && question.image">
                    <img class="frame thumbnail" [src]="globalService.getImgSrc1(question.image)" alt="Image question">
                </div>
                <br>
                A r√©pondu :
                <ol>
                <div *ngFor="let answer of attempt.wrongAnswers"> 
                    <div *ngIf="answerInQuestion(answer, question)">
                    <li>
                        <div class="card">
                        <div *ngIf="answer.imageId && answer.image">
                            <img class="frame thumbnail" [src]="globalService.getImgSrc1(answer.image)" alt="Image reponse">
                        </div>
                        <div *ngIf="answer.value">{{answer.value}}</div>
                        </div>
                    </li>
                    </div>
                </div>
                </ol>
                au lieu de : <br>
                <div class = "card" *ngIf="setRightAnswer(question)">
                    <div *ngIf="currentRightAnswer.imageId && currentRightAnswer.image">
                        <img class="frame thumbnail" [src]="globalService.getImgSrc1(currentRightAnswer.image)" alt="Image reponse">
                    </div>
                    <div *ngIf="currentRightAnswer.value">{{currentRightAnswer.value}}</div>
                </div>
            </div>
            </div>
            <ng-template #notClickable>
                <div>not clickable because question no longer here</div>
            </ng-template>
        </div> 
    </div>
</div>
</body>