<button class="button-card" routerLink= "/staff/quiz-list">Retour</button>
<button class="button-card" routerLink= "/home">Home</button>
<div *ngIf ="quiz" >
    
    <div *ngIf="!editionMode; else elseBlock">
        <h1>Nom du quiz : {{quiz.name}}</h1>
        <h2>Thème : {{quiz.theme}}</h2>
        <div *ngIf="image.url" class="frame"><img class = "thumbnail" [src]="displayImage()" alt="quiz image"></div>
        <button id = "editQuizName" class="button" (click)="initQuizForm()">Modifier</button>
    </div>
    <ng-template #elseBlock>
    <div>
        <form class="quiz-form" [formGroup]="quizForm">
            <h1>Nom du quiz : <input class="input-custom" type="text" id="name" [formControlName]="'name'"></h1>        
            <label for="theme">
                Thème :
                <br>
                <select name = "Thème" id = "theme" [formControlName] = "'theme'"> 
                  <option *ngFor = "let current_theme of THEME_LIST" [value] = "current_theme">
                    {{current_theme}}
                  </option>
                </select>
                <button (click)="addNewTheme()">Autres... </button>
                  <div *ngIf="showThemeForm"><app-add-thems-form (themeAdded) = "resetAppearing()"></app-add-thems-form></div>
            </label>
            <div *ngIf="image.url" class="frame"><img class = "thumbnail" [src]="displayImage()" alt="quiz image"></div>
            <input type="file" accept="image/*" (change)="onChangeFile($event)" id = "image">
            <br>
            <button type="submit" id = "confirmEdit" class="button" (click)="updateQuiz()">Valider</button>
            <!--<button type="submit" id = "confirmEdit" class="button">Valider</button>-->
            <button type="reset" id = "cancel" class="button" (click)="reset()">Annuler</button>
        </form>
    </div>
    </ng-template>
    <app-question-list [quiz] = "quiz"></app-question-list><!--ou quizIdBackup le temps que chargement effectif du quiz -->
</div>

